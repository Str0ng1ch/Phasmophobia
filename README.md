# Бот для игры `Phasmophobia`.

## Описание:

Данный бот является *простым кликером* для набивания уровня и денег в игре `Phasmophobia`.

## Установка и настройка:

1. ### Установка библиотек:
    1. Способ №1:
        1. Открыть терминал.
        2. Написать `pip install -r requirements.txt`.
    2. Способ №2:
        1. Вручную установить каждую из библиотек.
        2. |   Библиотеки    |               Назначение               |  Версия  |
           |:---------------:|:--------------------------------------:|:--------:|
           |    keyboard     | управления нажатиями клавиш клавиатуры |  0.13.5  |
           |   Levenshtein   |     поиск расстояния между словами     |  0.21.1  |
           | memory-profiler |    слежение за потреблением памяти     |  0.61.0  |
           |  opencv-python  |         обработка изображений          | 4.8.0.76 |
           |     Pillow      |          создание изображений          |  10.0.0  |
           |    PyAutoGUI    |   нахождение объекта на изображении    |  0.9.54  |
           |    pypiwin32    |             движения мыши              |   223    |
           |   pytesseract   |   распознавание текста с изображения   |  0.3.10  |
           |     pywin32     |                                        |   306    |

2. ### Запуск `src/setup.py`.
   
3. ### Настройка изображений:
    1. При загрузке карты сделать скриншот надписи `Инициализация`.
    2. В отчете об игре сделать скриншот надписей `Игра` и `Далее`.

4. ### Установка `autohotkey`:
   `autohotkey` нужен для вращения камерой персонажа внутри самой игры.
    1. Зайдите на официальный сайт `https://www.autohotkey.com/`
    2. Попробуйте запустить файл с autohotkey командами (resources/autohotkey_script)
    3. Нажмите на английский буквы «p» или «o». Если курсор мыши подвинулся, значит все работает.

5. ### Установка `Tesseract` (*опционально*):
   `Tesseract` предназначен для распознавания текста с картинки. Данная фича не обязательна к использованию.
    1. Переходим на `https://github.com/UB-Mannheim/tesseract/wiki`.
    2. Скачиваем `tesseract-ocr-w64-setup-5.3.1.20230401.exe (64 bit)` и устанавливаем.
    3. Указываем в `config.ini` путь установки и устанавливаем параметр `ENABLE_TESSERACT = True`.

## Использование:

1. Выберите желаемые параметры в конфиг файле (`resources/config.ini`).
   *Примечание*: большинство настроек задержки (`SLEEP`) между действиями выставлены *оптимальным* образом и их
   изменение может сильно замедлить работу бота (при выставлении больших задержек между действиями) или нарушить работу
   бота (при выставлении слишком маленьких задержек игра может не успеть обработать действия, а бот перейдет к следующим
   инструкциям).

2. Запустите Phasmophobia, зайдите в одиночную игру и выберите желаемый уровень сложности (рекомендуется ставить `x15`
   для большей награды).

3. Запустите бота (`src/run.py`) и вернитесь в игру (в уже подготовленное лобби).

4. При правильной настройке бот автоматически:
    1. выберет карту;
    2. запустит игру;
    3. подождёт окончания загрузки;
    4. откроет ворота;
    5. выберет тип призрака;
    6. закроет ворота;
    7. закроет результаты игры;
    8. начнёт данные инструкции с начала.

5. Для остановки бота нажмите выставленную клавишу остановки в конфиге (по умолчанию - `CAPS LOCK`). Бот закончит
   текущую миссию и остановится.

## Рекомендации:

1. Все координаты были подстроены под разрешение `1920x1080`, если у вас оно не совпадает, то возможно нужно
   подстраивать самостоятельно.
2. Для ускорения работы бота рекомендуется выставить уровень графики на *минимальный* для ускорения загрузки карты.